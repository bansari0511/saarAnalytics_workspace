{
  "version": 3,
  "sources": ["../../@arcgis/lumina/dist/proxyExports-Cdzj7WL_.js", "../../@arcgis/lumina/dist/controllers/index.js", "../../@esri/calcite-components/dist/chunks/useT9n.js"],
  "sourcesContent": ["import { d as setParentController, e as retrieveParentControllers, o as setAmbientChildController, t as trackKey, h as bypassReadOnly } from \"./Controller-BQOv8BAL.js\";\nconst proxyExports = (Class) => (...args) => {\n  const ambientControllers = retrieveParentControllers();\n  const instance = new Class(...args);\n  const initialExports = instance.exports;\n  setParentController(ambientControllers.at(-1));\n  const manager = instance.component.manager;\n  manager.W(instance, initialExports);\n  instance.watchExports(manager.W.bind(manager, instance));\n  setAmbientChildController(instance);\n  const hostCandidates = [instance.component, ...ambientControllers].reverse();\n  return trackKey(\n    hostCandidates,\n    (resolution) => resolution === void 0 ? void 0 : setProxy(instance, resolution, initialExports),\n    initialExports\n  );\n};\nconst setProxy = (controller, { host, key, isReactive: assignedToProp }, initialExports) => {\n  const genericHost = host;\n  const controllerValueChanged = genericHost[key] !== controller.exports;\n  const hostValueChanged = genericHost[key] !== initialExports;\n  const controllerUpdatedExports = initialExports !== controller.exports;\n  if (controllerValueChanged && !hostValueChanged && controllerUpdatedExports) {\n    genericHost[key] = controller.exports;\n  }\n  const isProxyExportsOnComponent = host === controller.component;\n  if (isProxyExportsOnComponent) {\n    if (assignedToProp) {\n      const manager = controller.component.manager;\n      if (hostValueChanged) {\n        manager.W(controller, genericHost[key]);\n      }\n      controller.onUpdate((changes) => {\n        if (changes.has(key)) {\n          const value = genericHost[key];\n          if (value !== controller.exports) {\n            manager.W(controller, value);\n          }\n        }\n      });\n    }\n    controller.O = assignedToProp ? void 0 : key;\n  }\n  const isReadOnly = controller.component.constructor.elementProperties.get(key)?.readOnly;\n  controller.watchExports(() => {\n    if (genericHost[key] === controller.exports) {\n      return;\n    }\n    if (isReadOnly) {\n      bypassReadOnly(() => {\n        genericHost[key] = controller.exports;\n      });\n    } else {\n      genericHost[key] = controller.exports;\n    }\n  });\n};\nexport {\n  proxyExports as p\n};\n", "import { C as Controller, s as setAmbientComponent, i as isPromise, d as setParentController, e as retrieveParentControllers, t as trackKey, r as retrieveComponent, f as createEventFactory } from \"../Controller-BQOv8BAL.js\";\nimport { G, h, g, c, n, m, k, l, j } from \"../Controller-BQOv8BAL.js\";\nimport { p as proxyExports } from \"../proxyExports-Cdzj7WL_.js\";\nimport { isServer } from \"lit\";\nimport { observeAncestorsMutation, isEsriInternalEnv, getElementAttribute, getElementLocales, startLocaleObserver } from \"@arcgis/components-utils\";\nconst makeController = (constructor) => proxy(void 0, constructor);\nconst makeGenericController = (constructor) => (component) => proxy(\n  component,\n  /**\n   * GenericController is identical to Controller, in all except for typing.\n   * So dying a type-cast here so as not to needlessly add one more object\n   * to the prototype chain\n   */\n  constructor\n);\nclass FunctionalController extends Controller {\n  constructor(component, constructor) {\n    super(component);\n    const originalExports = this.exports;\n    try {\n      setAmbientComponent(this.component);\n      const value = constructor(this.component, this);\n      const constructorChangedExports = this.exports !== originalExports;\n      if (isPromise(value)) {\n        if (!constructorChangedExports) {\n          this.setProvisionalExports(value);\n        }\n        const resolved = value.then((result) => {\n          this.exports = result;\n          super.catchUpLifecycle();\n        }).catch((error) => {\n          this.P.reject(error);\n          console.error(error);\n        });\n        this.onLoad(async () => await resolved);\n      } else {\n        if (!constructorChangedExports || value !== void 0) {\n          this.exports = value;\n        }\n        queueMicrotask(() => super.catchUpLifecycle());\n      }\n    } catch (error) {\n      this.P.reject(error);\n      console.error(error);\n    }\n  }\n  /** Noop - will be called in the constructor instead */\n  catchUpLifecycle() {\n    return;\n  }\n}\nconst proxy = proxyExports(FunctionalController);\nconst useWatchAttributes = (attributes, callback) => new AttributeWatchController(attributes, callback);\nclass AttributeWatchController extends Controller {\n  #observer;\n  #attributes;\n  #callback;\n  constructor(attributes, callback) {\n    super();\n    if (isServer) {\n      return;\n    }\n    this.#attributes = attributes;\n    this.#callback = callback;\n    this.#observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (attributes.includes(mutation.attributeName)) {\n          callback.call(\n            this.component,\n            this.component.el.getAttribute(mutation.attributeName),\n            mutation.oldValue,\n            mutation.attributeName\n          );\n        }\n      });\n    });\n  }\n  hostConnected() {\n    this.#attributes.forEach((attribute) => {\n      if (this.component.el.hasAttribute(attribute)) {\n        this.#callback.call(this.component, null, this.component.el.getAttribute(attribute), attribute);\n      }\n    });\n    this.#observer.observe(this.component.el, {\n      attributes: true,\n      attributeOldValue: true,\n      attributeFilter: this.#attributes\n    });\n  }\n  hostDisconnected() {\n    this.#observer.disconnect();\n  }\n}\nconst load = makeController;\nconst toFunction = (Class) => (...args) => {\n  const ambientControllers = retrieveParentControllers();\n  const instance = new Class(...args);\n  setParentController(ambientControllers.at(-1));\n  return instance;\n};\nconst useMedia = (query) => makeController((_component, controller) => {\n  const media = globalThis.matchMedia(query);\n  const changed = () => {\n    controller.exports = media.matches;\n  };\n  changed();\n  controller.onLifecycle(() => {\n    media.addEventListener(\"change\", changed);\n    return () => media.removeEventListener(\"change\", changed);\n  });\n  return void 0;\n});\nconst defaultDirection = \"ltr\";\nconst useDirection = () => makeController((component, controller) => {\n  controller.exports = defaultDirection;\n  controller.onLifecycle(() => {\n    const callback = () => {\n      const dir = getElementAttribute(component.el, \"dir\", defaultDirection);\n      controller.exports = dir === \"rtl\" ? \"rtl\" : \"ltr\";\n    };\n    callback();\n    return observeAncestorsMutation(component.el, [\"dir\"], callback);\n  });\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    trackKey(\n      component,\n      (resolved) => {\n        if (resolved?.key === \"dir\") {\n          throw new Error(\n            `Do not assign this controller to a prop called \\`dir\\` as that will overwrite the \\`dir\\` attribute on the host element - component should not be setting the \\`dir\\` attribute on itself. Instead, assign this controller to a property called \\`direction\\`.`\n          );\n        }\n      },\n      controller.exports\n    );\n  }\n  return void 0;\n});\nconst makeT9nController = (getAssetPath) => (options = {}) => (\n  // eslint-disable-next-line @typescript-eslint/promise-function-async\n  makeController((component, controller) => {\n    const locale = getElementLocales(component.el);\n    const pending = { [\"_lang\"]: locale.lang, [\"_t9nLocale\"]: locale.t9nLocale, [\"_loading\"]: true };\n    const componentWithOverrides = component;\n    controller.onLifecycle(\n      () => startLocaleObserver(\n        component.el,\n        () => getAssetPath(\"./assets\"),\n        ({ t9nLocale, t9nStrings, lang }) => {\n          const withoutOverrides = {\n            ...t9nStrings,\n            [\"_lang\"]: lang,\n            [\"_t9nLocale\"]: t9nLocale,\n            [\"_loading\"]: false\n          };\n          controller.exports = withoutOverrides;\n          const label = t9nStrings.componentLabel;\n          if (typeof label === \"string\" && \"label\" in component && component.label == null) {\n            component.label ??= label;\n          }\n          applyOverrides(componentWithOverrides.messageOverrides);\n        },\n        options.name\n      )\n    );\n    const applyOverrides = (messageOverrides) => {\n      const currentValue = controller.exports;\n      const rawMessages = currentValue[\"_original\"] ?? currentValue;\n      const updated = deepMerge(rawMessages, messageOverrides);\n      if (messageOverrides) {\n        updated[\"_original\"] = rawMessages;\n      }\n      controller.exports = updated;\n    };\n    if (\"messageOverrides\" in componentWithOverrides) {\n      controller.onUpdate((changes) => {\n        if (changes.has(\"messageOverrides\")) {\n          applyOverrides(componentWithOverrides.messageOverrides);\n        }\n      });\n    }\n    if (options.blocking) {\n      controller.setProvisionalExports(pending, false);\n      return controller.ready;\n    } else {\n      return pending;\n    }\n  })\n);\nconst deepMerge = (original, overwrites) => {\n  if (!overwrites) {\n    return original;\n  }\n  const merged = { ...original };\n  Object.entries(overwrites).forEach(([key, value]) => {\n    if (typeof value === \"object\") {\n      merged[key] = deepMerge(original[key], value);\n    } else {\n      merged[key] = value ?? original[key];\n    }\n  });\n  return merged;\n};\nconst usePropertyChange = (_component) => propertyChangeController;\nconst eventName = \"arcgisPropertyChange\";\nconst propertyChangeController = (...toWatch) => {\n  const component = retrieveComponent();\n  const eventEmitter = createEventFactory(eventName, void 0, component);\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    toWatch.forEach((prop) => {\n      const descriptor = component.constructor.elementProperties.get(prop);\n      const isProp = descriptor !== void 0 && descriptor.state !== true;\n      if (!isProp) {\n        throw new Error(\n          `For usePropertyChange to emit event on \"${prop}\" property change, you should add @property() to ${prop} in ${component.el.localName}`\n        );\n      }\n    });\n  }\n  let isFirst = true;\n  component.manager.onUpdated((changes) => {\n    if (isFirst || !component.el.isConnected) {\n      isFirst = false;\n      return;\n    }\n    for (const name of toWatch) {\n      if (changes.has(name)) {\n        eventEmitter.emit({ name });\n      }\n    }\n  });\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    trackKey(\n      component,\n      (resolution) => {\n        if (resolution === void 0 || resolution.isReactive || resolution.key !== eventName) {\n          throw new Error(\n            `For consistency, usePropertyChange must be assigned to an arcgisPropertyChange property and that property should not have @property() or @state() decorators: arcgisPropertyChange = usePropertyChange<this>()(\"prop1\", \"prop2\");`\n          );\n        }\n      },\n      eventEmitter\n    );\n  }\n  return eventEmitter;\n};\nexport {\n  Controller,\n  G as GenericController,\n  h as bypassReadOnly,\n  g as bypassSetter,\n  c as controllerSymbol,\n  n as getControllersCount,\n  m as isController,\n  k as keyTrackResolve,\n  load,\n  makeController,\n  makeGenericController,\n  makeT9nController,\n  proxyExports,\n  retrieveComponent,\n  toFunction,\n  trackKey,\n  l as trackPropKey,\n  j as trackPropertyKey,\n  useDirection,\n  useMedia,\n  usePropertyChange,\n  useWatchAttributes\n};\n", "/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { makeT9nController } from \"@arcgis/lumina/controllers\";\nimport { g as getAssetPath } from \"./runtime.js\";\nconst useT9n = makeT9nController(getAssetPath);\nexport {\n  useT9n as u\n};\n"],
  "mappings": "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",
  "names": ["getAssetPath"]
}
